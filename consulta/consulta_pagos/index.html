<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" href="img/watr-system.png"> 

    <title>Mostrar los Pagos</title>
</head>
<body>

<h2>Mostrar a los Pagos</h2>

<button onclick="realizarConsulta()">Mostrar</button>

<div id="resultados"></div>

<script>
function realizarConsulta() {
    // Realizar una solicitud FETCH al backend
    fetch('backend.php')
        .then(response => response.json())
        .then(resultados => mostrarResultados(resultados))
        .catch(error => console.error('Error:', error));
}

function mostrarResultados(resultados) {
    var resultadosDiv = document.getElementById("resultados");

    if (resultados.length > 0) {
        // Crear tabla de resultados
        var tabla = "<table><tr><th>ID Pago</th><th>Nombre</th><th>Periodo</th><th>Monto</th><th>Domicilio</th></tr>";
        for (var i = 0; i < resultados.length; i++) {
            tabla += "<tr><td>" + resultados[i].id_pago + "</td><td>" + resultados[i].nombre + "</td><td>" + resultados[i].periodo + "</td><td>" + resultados[i].monto + "</td><td>" + resultados[i].domicilio + "</td></tr>";
        }
        tabla += "</table>";
        resultadosDiv.innerHTML = tabla;
    } else {
        resultadosDiv.innerHTML = "<p>No se encontraron resultados</p>";
    }
}
</script>

</body>
</html>
